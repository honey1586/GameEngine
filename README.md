
★ 본인의 정보
학과명:게임공학과 
학번:2016182017  
이름:백도열

★ 게임 개요
게임 명 : Z Island
장르 : 1인칭 싱글 서바이벌 FPS 게임
게임 특징 : 마을과 숲을 배회하는 좀비들
게임 스토리 : 외딴 섬에 있는 국가 기밀 연구시설에서 바이러스가 유출되어 좀비가 창궐하였다. 군에서는 좀비들이 육지로 넘어올 것을 우려하여 군대를 파견하였다. 주인공은 파견된 특수부대의 대장이며, 현재 대원들은 원인 모를 수송헬기의 사고로 인해 사망한 상태이고 주인공은 이 사건의 실마리를 찾기 위해 국가 기밀 연구시설이 있는 곳으로 향하게 된다.

-플레이어 조작-
W: 앞 이동
A: 좌 이동
S: 뒤 이동
D: 우 이동
1: 맨손
2: 총
3: 도끼
Shift : 달리기
Space : 점프
Ctrl : 앉기
MouseLeftButton : 공격,사격
MouseRightButton : 총을 든 상태에서 누를 시 조준상태로 바뀐다.
ESC : 플레이어가 멈추고 마우스 커서 활성화 다시 누를 시 캐릭터가 움직인다.

★ 사용한 에셋
캐릭터 : 1인칭이기 때문에 유니티에서 기본적으로 제공하는 캡슐을 사용하였다.
손,무기 : 에셋을 구하여 애니메이션을 잘라서 사용하였다.
좀비,건물,나무,타일 : 유니티 무료 에셋을 사용하였다.
사운드,UI : 유튜브에서 유니티 무료 강의를 통해 제공하는 에셋을 사용하였다.

★ 구현
-캐릭터-
걷기 : GetAxisRaw로 x축 이동 z축 이동에 대한 Vector값을 구하여 캐릭터의 RigidBody가 wasd 값이 입력되면 이동될수 있도록 구현하였다.

달리기 : 달리기 함수를 실행하도록 하는 함수를 따로 만들어 GetKey로 왼쪽 쉬프트키가 눌려있는 동안에는 계속 달리기 함수를 실행하도록 하였고, GetKeyUp으로 쉬프트키를 떼는 순간 달리기를 취소하는 함수를 호출하도록 하였다.

앉기 : GetKeyDown으로 왼쪽 컨트롤 키가 눌리면 앉기 상태로 바뀌도록 구현하였다. 1인칭이기 때문에 카메라의 높이를 낮춰주었는데, 키가 눌리자마자 카메라의 위치값이 바뀌게 되면 순간인동하는 것처럼 보이게 되어 Corutine을 이용하여 부드럽게 앉을 수 있도록 구현하였다. 키를 누를 시 카메라의 위치값을 Lerp를 이용하여 앉은 상태의 카메라 시점까지 부드럽게 이동을 하도록 만들었다.

점프 : 점프도 GetKeyDown으로 스페이스바 키가 눌리면 점프를 하도록 구현하였다. 하지만 그냥 키가 눌릴 때 점프를 하게 되면 공중에서도 계속 점프를 할 수 있는 상황이 생기게 되므로, 캐릭터의 발이 땅에 붙어있는지를 체크하여 붙어 있을때만 점프를 하도록 구현하였다. Physics.Raycast를 이용하여 캐릭터 자신의 위치에서 Vector3.down(즉, 아래)방향으로 레이캐스트를 하여 캐릭터의 Collider의 바닥부분에 광선을 쏘게 하였고, 이를 이용하여 바닥 부분이 땅에 닿아있을 때에만 점프를 할 수 있도록 하였다.

-좀비-
Random.Range로 대기 상태와 걷는 상태를 나누어 랜덤으로 멈췄다 걸었다를 반복하게 하였다. 그리고 방향도 y값에 Random.Range로 0도 부터 360도 까지 랜덤으로 주고 이것을 Lerp로 부드럽게 방향을 바꿀 수 있도록 하여 자유로운 이동을 하도록 만들었다.

-무기-
무기류는 모두 유튜브 무료 강의에서 제공하는 에셋으로 만들었다. 맨손,총,도끼가 있으며 각각의 애니메이션을 동작에 따라 프레임별로 잘랐고, 각각에 대한 AnimatorController를 만들어 애니메이션 별로 구분하여 Bool과 Trigger를 만들어 이것을 스크립트를 이용하여 상황에 맞는 애니메이션이 작동할 수 있도록 만들었다. 그리고 총은 오브젝트 풀링 기법이 아닌 단순하게 쏘는 순간 맞도록 레이캐스트를 이용하여 좌표를 얻어왔고, 정확도를 표현하기 위해 몇 가지 값을 곱하여 총알이 랜덤하게 일정한 범위 안에서 튈 수 있도록 만들었다. 여기서 레이캐스트를 이용하여 총알이 맞은 오브젝트의 태그와 좀비의 태그를 비교하여 같다면 좀비의 hp가 감소하도록 만들었고 , hp가 0이 될 시 좀비는 소멸하도록 구현하였다. 또 무기를 교체할 때 코루틴을 이용하여 부드러운 동작이 되도록 만들었다.

-UI-
Status : StatusController 스크립트를 만들어 캐릭터의 상태를 구현하였다. hp,dp,sp 등이 있으며 Image 클래스의 fillAmount를 이용하여 UI의 SP바가 스크립트에서 정해놓은 현재 sp와 동일한 비율로 감소하도록 구현하였다. 달리기를 할 때와 점프를 할 때 sp가 감소하고 임의로 정해놓은 시간이 지난 후에 다시 sp바가 천천히 차오르도록 만들었다.
HUD : 총알 개수를 텍스트에 반영할 수 있도록 Text클래스를 배열로 만들어 총을 관리하는 스크립트에서 각각의 총알을 ToString()으로 문자로 변환하여 배열에 주었고 이것으로 UI를 만들었다.

★ 구현하지 못한 내용
1.터레인으로 섬을 구현하여 주위에는 바다가 있는 맵을 만들고 싶었지만 찾아보다가 실패하였다.
2.좀비에셋을 구하여 적용을 시켰는데 코드로 움직이자니 애니메이션이 안나오고 애니메이션을 키자니 코드가 먹통이었다.
3.좀비가 캐릭터 공격.
